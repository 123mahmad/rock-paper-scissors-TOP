<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button class="rock">ROCK</button>
    <button class="paper">PAPER</button>
    <button class="scissors">SCISSORS</button>

    <script>
        function computerPlay (){
            choice = Math.floor(Math.random()*3);
            if (choice == 0){
                return `rock`;
            } else if (choice == 1){
                return `paper`;
            } else {
                return `scissors`;
            }
        }
        function round (playerChoice, computerChoice){
            if (playerChoice == `rock` && computerChoice == `rock`){
                return `round tie: rock vs rock`;
            } else if (playerChoice == `rock` && computerChoice == `paper`){
                return `round loss: rock vs paper`;
            } else if (playerChoice == `rock` && computerChoice == `scissors`){
                return `round win: rock vs scissors`;
            } else if (playerChoice == `paper` && computerChoice == `rock`){
                return `round win: paper vs rock`;
            } else if (playerChoice == `paper` && computerChoice == `paper`){
                return `round tie: paper vs paper`;
            } else if (playerChoice == `paper` && computerChoice == `scissors`){
                return `round loss: paper vs scissors`;
            } else if (playerChoice == `scissors` && computerChoice == `rock`){
                return `round loss: scissors vs rock`;
            } else if (playerChoice == `scissors` && computerChoice == `paper`){
                return `round win: scissors vs paper`;
            } else if (playerChoice == `scissors` && computerChoice == `scissors`){
                return `round tie: scissors vs scissors`;
            }
        }

        const body = document.querySelector(`body`);
        const resultDiv = document.createElement(`div`);
        body.append(resultDiv);

        const playerOptions = document.querySelectorAll(`button`);
        playerOptions.forEach(
            option => {
                option.addEventListener(`click`,selectOption);
                function selectOption(e) {
                    let playerChoice = e.target.className;
                    let computerChoice = computerPlay();
                    let result = round (playerChoice, computerChoice);
                    resultDiv.textContent = `${result}`;
                    if (resultDiv.textContent.includes(`win`)){playerWins++;}
                    else if (resultDiv.textContent.includes(`loss`)){computerWins++}
                    if (playerWins == 5){resultDiv.textContent = `YOU WIN`;playerWins=0}
                    if (computerWins == 5){resultDiv.textContent = `YOU LOSE`;computerWins=0}
                    console.log(playerWins);
                    console.log(computerWins);
                }       
            }
        )
        let playerWins = 0;
        let computerWins = 0;
    </script>
</body>
</html>